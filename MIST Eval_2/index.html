<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>MIST Eval 2</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://unpkg.com/react@18/umd/react.development.js" crossorigin></script>
  <script src="https://unpkg.com/react-dom@18/umd/react-dom.development.js" crossorigin></script>
  <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>

  <style>
    .glow {
      box-shadow: 0 0 10px 2px currentColor;
      transform: scale(1.05);
      transition: all 0.2s ease;
    }
    .dim {
      opacity: 0.4;
      transition: all 0.2s ease;
    }
  </style>
</head>
<body class="bg-black min-h-screen flex flex-col">

  <div class="bg-gray-400 text-black p-4 flex justify-between items-center">
    <div class="font-bold text-xl">MIST</div>
    <div>Name, Reg Number, Contact Number of person submitting</div>
  </div>

  <div id="root" class="flex justify-center items-start p-8 gap-8 flex-wrap"></div>

  <script type="text/babel">
    function Form({ setData, setAnswer, answer }) {
      const [name, setName] = React.useState("");
      const [reg, setReg] = React.useState("");
      const [birthday, setBirthday] = React.useState("");

      const handleSubmit = (e) => {
        e.preventDefault();
        setData({ name, reg, birthday });
      };

      return (
        <form className="flex flex-col gap-4 bg-gray-800 text-white p-6 rounded w-80" onSubmit={handleSubmit}>
          <label>Enter Name<br/><span className="text-sm">(Letters only)</span></label>
          <input type="text" value={name} onChange={e => setName(e.target.value.replace(/[^a-zA-Z ]/g,''))}
                 className="w-full p-2 bg-gray-400 text-black rounded" required/>

          <label>Enter Reg Number<br/><span className="text-sm">(9 digits only)</span></label>
          <input type="text" value={reg} onChange={e => setReg(e.target.value.replace(/[^0-9]/g,''))}
                 maxLength="9" className="w-full p-2 bg-gray-400 text-black rounded" required/>

          <label>Enter Birthday</label>
          <input type="date" value={birthday} onChange={e => setBirthday(e.target.value)}
                 className="w-full p-2 bg-gray-400 text-black rounded" required/>

          <label>Is webdev the best domain? :)</label>
          <div className="flex gap-2">
            <button
              type="button"
              className={`flex-1 p-2 rounded ${answer === "YES" ? "bg-green-400 glow" : "bg-green-200 dim"}`}
              onClick={() => setAnswer("YES")}
            >
              YES
            </button>
            <button
              type="button"
              className={`flex-1 p-2 rounded ${answer === "NO" ? "bg-red-500 glow" : "bg-red-200 dim"}`}
              onClick={() => setAnswer("NO")}
            >
              NO
            </button>
          </div>

          <button type="submit" className="mt-4 bg-blue-600 p-2 rounded">Submit</button>
        </form>
      );
    }

    function Display({ data, answer }) {
      if (!data) return null;

      return (
        <div className="bg-white w-80 p-6 rounded shadow text-black flex flex-col gap-4">
          <div>MIST Mancomm Member 69</div>
          <div>My name is {data.name}</div>
          <div>My registration number is {data.reg}</div>
          <div>My birthday is on {data.birthday}</div>
          <div>Is webdev the best domain? :)</div>
          <div className="flex gap-2">
            <button className={`flex-1 p-2 rounded ${answer==="YES"?"bg-green-400 glow":"bg-green-200 dim"}`}>YES</button>
            <button className={`flex-1 p-2 rounded ${answer==="NO"?"bg-red-500 glow":"bg-red-200 dim"}`}>NO</button>
          </div>
        </div>
      );
    }

    function App() {
      const [data, setData] = React.useState(null);
      const [answer, setAnswer] = React.useState("");

      return (
        <div className="flex gap-8 flex-wrap justify-center items-start">
          <Form setData={setData} setAnswer={setAnswer} answer={answer}/>
          <Display data={data} answer={answer}/>
        </div>
      );
    }

    const root = ReactDOM.createRoot(document.getElementById("root"));
    root.render(<App />);
  </script>
</body>
</html>
